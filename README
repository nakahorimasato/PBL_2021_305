import RPi.GPIO as GPIO
import picamera
import time

GPIO.setmode(GPIO.BCM)
GPIO.setup(26, GPIO.IN, pull_up_down=GPIO.PUD_UP)

CAM_DIR  = "/home/pi/photo/"

camera = picamera.PiCamera()

try:
    while True:
        if GPIO.input(26) == 0:
            filename = time.strftime("%Y%m%d%H%M%S") + ".jpeg"
            save_dir_filename = CAM_DIR + filename
            camera.capture(save_dir_filename)

except KeyboardInterrupt:
    GPIO.cleanup()
